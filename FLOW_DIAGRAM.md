# ğŸ”„ System Flow and Working - Complete Guide

This document provides a comprehensive overview of how EduCertEngine works, aligned with the detailed admin workflows documented in ADMIN_FLOW.md.

## ğŸ“‹ Table of Contents

1. [System Overview](#system-overview)
2. [User Roles and Flows](#user-roles-and-flows)
3. [Complete System Workflow](#complete-system-workflow)
4. [Certificate Generation Flow](#certificate-generation-flow)
5. [Student Access Flow](#student-access-flow)
6. [Technical Architecture Flow](#technical-architecture-flow)
7. [Optimized Flow Integration](#optimized-flow-integration)

> ğŸ’¡ **Quick Links:**
> - For detailed admin workflows â†’ see [ADMIN_FLOW.md](./ADMIN_FLOW.md)
> - For optimization strategies â†’ see [OPTIMIZED_FLOW.md](./OPTIMIZED_FLOW.md)
> - For quick reference â†’ see [QUICK_REFERENCE.md](./QUICK_REFERENCE.md)

---

## ğŸ¯ System Overview

EduCertEngine is a multi-tenant certificate management platform that allows universities to:
- Create and manage digital certificates
- Issue certificates to students
- Allow students to search, view, and download their certificates
- Verify certificate authenticity using QR codes

### Key Characteristics

- **Multi-Tenant**: Each university operates independently with its own subdomain
- **Role-Based**: Different access levels (Super Admin, University Admin, Students)
- **Template-Driven**: Flexible template system for different document types
- **Verification-Enabled**: QR code-based document verification
- **Self-Service**: Students can access documents without admin assistance

---

## ğŸ‘¥ User Roles and Flows

### 1. Super Admin Flow

> ğŸ“– **Detailed Workflow**: See [ADMIN_FLOW.md - Super Admin Section](./ADMIN_FLOW.md#super-admin-flow)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     SUPER ADMIN WORKFLOW                     â”‚
â”‚               (Based on ADMIN_FLOW.md)                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

START: First Time User
   â”‚
   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. REGISTRATION                     â”‚
â”‚ URL: /superadmin/register           â”‚
â”‚                                     â”‚
â”‚ Input Fields:                       â”‚
â”‚ â€¢ Full Name                         â”‚
â”‚ â€¢ Email Address                     â”‚
â”‚ â€¢ Password (min 8 chars)            â”‚
â”‚ â€¢ Confirm Password                  â”‚
â”‚                                     â”‚
â”‚ Validation:                         â”‚
â”‚ âœ“ Check if first super admin        â”‚
â”‚ âœ“ Email format validation           â”‚
â”‚ âœ“ Password strength check           â”‚
â”‚ âœ“ Password match confirmation       â”‚
â”‚                                     â”‚
â”‚ Security:                           â”‚
â”‚ âœ“ Password hashing (bcrypt)         â”‚
â”‚ âœ“ JWT token generation              â”‚
â”‚ âœ“ Secure session creation           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 2. LOGIN                            â”‚
â”‚ URL: /superadmin/login              â”‚
â”‚                                     â”‚
â”‚ Credentials:                        â”‚
â”‚ â€¢ Email                             â”‚
â”‚ â€¢ Password                          â”‚
â”‚                                     â”‚
â”‚ Process:                            â”‚
â”‚ âœ“ Database lookup                   â”‚
â”‚ âœ“ Password verification             â”‚
â”‚ âœ“ JWT token generation              â”‚
â”‚ âœ“ Session establishment             â”‚
â”‚                                     â”‚
â”‚ Response:                           â”‚
â”‚ â†’ JWT token to localStorage         â”‚
â”‚ â†’ Redirect to dashboard             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚               SUPER ADMIN DASHBOARD                      â”‚
â”‚           /superadmin/dashboard                          â”‚
â”‚                                                          â”‚
â”‚  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“  â”‚
â”‚  â”ƒ  ğŸ“Š Statistics Overview                          â”ƒ  â”‚
â”‚  â”£â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”«  â”‚
â”‚  â”ƒ  â€¢ Total Universities: 25                       â”ƒ  â”‚
â”‚  â”ƒ  â€¢ Active Universities: 22                      â”ƒ  â”‚
â”‚  â”ƒ  â€¢ Total Students: 15,430                       â”ƒ  â”‚
â”‚  â”ƒ  â€¢ Total Documents: 45,890                      â”ƒ  â”‚
â”‚  â”ƒ  â€¢ System Uptime: 99.8%                         â”ƒ  â”‚
â”‚  â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›  â”‚
â”‚                                                          â”‚
â”‚  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“  â”‚
â”‚  â”ƒ  ğŸ“ Universities Management                      â”ƒ  â”‚
â”‚  â”£â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”«  â”‚
â”‚  â”ƒ                                                  â”ƒ  â”‚
â”‚  â”ƒ  [+ Create New University]  [ğŸ“Š Analytics]      â”ƒ  â”‚
â”‚  â”ƒ                                                  â”ƒ  â”‚
â”‚  â”ƒ  University List:                               â”ƒ  â”‚
â”‚  â”ƒ  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”ƒ  â”‚
â”‚  â”ƒ  â”‚ Tech University                           â”‚ â”ƒ  â”‚
â”‚  â”ƒ  â”‚ Subdomain: techuni.educert.com            â”‚ â”ƒ  â”‚
â”‚  â”ƒ  â”‚ Admin: admin@techuni.edu                  â”‚ â”ƒ  â”‚
â”‚  â”ƒ  â”‚ Status: ğŸŸ¢ Active                         â”‚ â”ƒ  â”‚
â”‚  â”ƒ  â”‚ Stats: 2,450 students | 7,340 docs        â”‚ â”ƒ  â”‚
â”‚  â”ƒ  â”‚ [View] [Edit] [Disable] [Delete]          â”‚ â”ƒ  â”‚
â”‚  â”ƒ  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”ƒ  â”‚
â”‚  â”ƒ                                                  â”ƒ  â”‚
â”‚  â”ƒ  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”ƒ  â”‚
â”‚  â”ƒ  â”‚ Medical College                           â”‚ â”ƒ  â”‚
â”‚  â”ƒ  â”‚ Subdomain: medcol.educert.com             â”‚ â”ƒ  â”‚
â”‚  â”ƒ  â”‚ Admin: admin@medcol.edu                   â”‚ â”ƒ  â”‚
â”‚  â”ƒ  â”‚ Status: ğŸŸ¢ Active                         â”‚ â”ƒ  â”‚
â”‚  â”ƒ  â”‚ Stats: 1,820 students | 5,460 docs        â”‚ â”ƒ  â”‚
â”‚  â”ƒ  â”‚ [View] [Edit] [Disable] [Delete]          â”‚ â”ƒ  â”‚
â”‚  â”ƒ  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”ƒ  â”‚
â”‚  â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›  â”‚
â”‚                                                          â”‚
â”‚  Quick Actions:                                          â”‚
â”‚  â”œâ”€ Create University (5-step wizard)                   â”‚
â”‚  â”œâ”€ View System Logs                                    â”‚
â”‚  â”œâ”€ Manage Global Settings                              â”‚
â”‚  â”œâ”€ Monitor Performance                                 â”‚
â”‚  â””â”€ Export Reports                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Key Features:
âœ“ Multi-university management
âœ“ Real-time statistics
âœ“ Quick access to critical functions
âœ“ System health monitoring
âœ“ Audit trail tracking
```

**5-Step University Creation Wizard:**
See detailed flow in [ADMIN_FLOW.md](./ADMIN_FLOW.md#3-create-university-flow)

### 2. University Admin Flow

> ğŸ“– **Detailed Workflow**: See [ADMIN_FLOW.md - University Admin Section](./ADMIN_FLOW.md#university-admin-flow)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  UNIVERSITY ADMIN WORKFLOW                   â”‚
â”‚               (Enhanced from ADMIN_FLOW.md)                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

START: University Admin
   â”‚
   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. LOGIN                            â”‚
â”‚ URL: subdomain.educert.com/admin    â”‚
â”‚      Example: techuni.educert.com/admin
â”‚                                     â”‚
â”‚ Credentials:                        â”‚
â”‚ â€¢ Email (admin@techuni.edu)         â”‚
â”‚ â€¢ Password                          â”‚
â”‚                                     â”‚
â”‚ Multi-tenancy:                      â”‚
â”‚ âœ“ Subdomain extracted from URL      â”‚
â”‚ âœ“ University context established    â”‚
â”‚ âœ“ Scoped authentication             â”‚
â”‚                                     â”‚
â”‚ Security:                           â”‚
â”‚ âœ“ JWT with university ID            â”‚
â”‚ âœ“ Role-based access control         â”‚
â”‚ âœ“ Session management                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚             UNIVERSITY ADMIN DASHBOARD                       â”‚
â”‚                /admin/dashboard                              â”‚
â”‚                                                              â”‚
â”‚  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“  â”‚
â”‚  â”ƒ  ğŸ“ Tech University - Admin Panel                    â”ƒ  â”‚
â”‚  â”£â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”«  â”‚
â”‚  â”ƒ                                                       â”ƒ  â”‚
â”‚  â”ƒ  ğŸ“Š Quick Stats                                       â”ƒ  â”‚
â”‚  â”ƒ  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”ƒ  â”‚
â”‚  â”ƒ  â”‚Templateâ”‚Studentsâ”‚Documentsâ”‚ Publishedâ”‚           â”ƒ  â”‚
â”‚  â”ƒ  â”‚   12   â”‚ 2,450  â”‚  7,340  â”‚  6,890   â”‚           â”ƒ  â”‚
â”‚  â”ƒ  â””â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”ƒ  â”‚
â”‚  â”ƒ                                                       â”ƒ  â”‚
â”‚  â”ƒ  ğŸ¯ Quick Actions                                     â”ƒ  â”‚
â”‚  â”ƒ  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”ƒ  â”‚
â”‚  â”ƒ  â”‚ [+ Create Template]  [+ Add Student]         â”‚  â”ƒ  â”‚
â”‚  â”ƒ  â”‚ [ğŸ“¤ Bulk Upload]     [ğŸ“Š View Reports]       â”‚  â”ƒ  â”‚
â”‚  â”ƒ  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”ƒ  â”‚
â”‚  â”ƒ                                                       â”ƒ  â”‚
â”‚  â”ƒ  ğŸ“‘ Navigation Menu                                   â”ƒ  â”‚
â”‚  â”ƒ  â”œâ”€ ğŸ“ Templates (Create & Manage)                   â”ƒ  â”‚
â”‚  â”ƒ  â”‚   â”œâ”€ HTML Builder                                 â”ƒ  â”‚
â”‚  â”ƒ  â”‚   â”œâ”€ PDF Mapper                                   â”ƒ  â”‚
â”‚  â”ƒ  â”‚   â””â”€ Direct Upload                                â”ƒ  â”‚
â”‚  â”ƒ  â”‚                                                    â”ƒ  â”‚
â”‚  â”ƒ  â”œâ”€ ğŸ‘¥ Students (Add & Import)                       â”ƒ  â”‚
â”‚  â”ƒ  â”‚   â”œâ”€ Single Entry                                 â”ƒ  â”‚
â”‚  â”ƒ  â”‚   â””â”€ Bulk CSV Import                              â”ƒ  â”‚
â”‚  â”ƒ  â”‚                                                    â”ƒ  â”‚
â”‚  â”ƒ  â”œâ”€ ğŸ“„ Documents (View & Manage)                     â”ƒ  â”‚
â”‚  â”ƒ  â”‚   â”œâ”€ Published                                    â”ƒ  â”‚
â”‚  â”ƒ  â”‚   â”œâ”€ Draft                                        â”ƒ  â”‚
â”‚  â”ƒ  â”‚   â””â”€ Failed                                       â”ƒ  â”‚
â”‚  â”ƒ  â”‚                                                    â”ƒ  â”‚
â”‚  â”ƒ  â”œâ”€ ğŸ“‹ CSV Configurations                            â”ƒ  â”‚
â”‚  â”ƒ  â”œâ”€ ğŸ¨ Branding                                       â”ƒ  â”‚
â”‚  â”ƒ  â”œâ”€ ğŸ  Landing Page Builder                          â”ƒ  â”‚
â”‚  â”ƒ  â”œâ”€ ğŸ” SEO Settings                                   â”ƒ  â”‚
â”‚  â”ƒ  â”œâ”€ ğŸ“¤ Uploads                                        â”ƒ  â”‚
â”‚  â”ƒ  â””â”€ âš™ï¸  Settings                                      â”ƒ  â”‚
â”‚  â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Main Workflows (Click for details in ADMIN_FLOW.md):
â”œâ”€ A. Template Creation (3 types: HTML/PDF/Upload)
â”œâ”€ B. Student Management (Single + Bulk Import)
â”œâ”€ C. Document Management (View/Publish/Download)
â””â”€ D. Branding & Customization
```

**Key Admin Capabilities:**
- Create certificate templates using visual builder
- Add students individually or via CSV bulk import
- Generate and manage digital documents
- Customize university branding and portal
- Configure SEO and landing pages
- Monitor document generation status
- Download and distribute certificates
### 3. Student Flow (Public Portal)

> ğŸ“– **See also**: [ADMIN_FLOW.md - Student Search Section](./ADMIN_FLOW.md)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      STUDENT WORKFLOW                        â”‚
â”‚                  (No Login Required!)                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

START: Student receives notification or visits portal
   â”‚
   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. Access University Portal            â”‚
â”‚ URL: subdomain.educert.com             â”‚
â”‚      Example: techuni.educert.com      â”‚
â”‚                                        â”‚
â”‚ Landing Page Features:                 â”‚
â”‚ âœ“ University branding                  â”‚
â”‚ âœ“ Welcome message                      â”‚
â”‚ âœ“ Search button prominent              â”‚
â”‚ âœ“ Verification information             â”‚
â”‚ âœ“ Contact details                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 2. Navigate to Search                  â”‚
â”‚ Click "Search Documents"               â”‚
â”‚ or /search                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           SEARCH INTERFACE                          â”‚
â”‚                                                     â”‚
â”‚  Search your documents using any of:                â”‚
â”‚                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ ğŸ” Roll Number                             â”‚   â”‚
â”‚  â”‚ [Enter roll number...        ] [Search]   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ ğŸ“ Registration Number                      â”‚   â”‚
â”‚  â”‚ [Enter reg number...         ] [Search]   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ ğŸ“± Mobile Number                            â”‚   â”‚
â”‚  â”‚ [Enter mobile number...      ] [Search]   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ ğŸ‚ Date of Birth                            â”‚   â”‚
â”‚  â”‚ [DD/MM/YYYY                  ] [Search]   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                     â”‚
â”‚  ğŸ’¡ Tip: Use any ONE search criteria               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚ Student enters criteria
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 3. System Processes Search              â”‚
â”‚                                         â”‚
â”‚ Backend Flow:                           â”‚
â”‚ â”œâ”€ Validate input                       â”‚
â”‚ â”œâ”€ Check Redis cache (if optimized)    â”‚
â”‚ â”œâ”€ Query database                       â”‚
â”‚ â”‚  â””â”€ Filter by university              â”‚
â”‚ â”‚     Filter by search criteria         â”‚
â”‚ â”‚     Include published documents only  â”‚
â”‚ â”œâ”€ Fetch related data                   â”‚
â”‚ â””â”€ Format response                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â”œâ”€â”€â”€ Not Found â”€â”€â”€â”€â”€â”€â”€â”€â”
             â”‚                      â”‚
             â”‚                      â–¼
             â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
             â”‚         â”‚ "No documents found" â”‚
             â”‚         â”‚ â€¢ Try another search â”‚
             â”‚         â”‚ â€¢ Check details      â”‚
             â”‚         â”‚ â€¢ Contact admin      â”‚
             â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â””â”€â”€â”€ Found â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                   â”‚
                                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          SEARCH RESULTS                                â”‚
â”‚                                                        â”‚
â”‚  Found documents for: John Smith (2024001)            â”‚
â”‚                                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ ğŸ“œ Degree Certificate                        â”‚    â”‚
â”‚  â”‚                                              â”‚    â”‚
â”‚  â”‚ Type: Final Year Degree                     â”‚    â”‚
â”‚  â”‚ Course: Computer Science                    â”‚    â”‚
â”‚  â”‚ Issued: May 15, 2024                        â”‚    â”‚
â”‚  â”‚ Status: âœ… Verified                         â”‚    â”‚
â”‚  â”‚                                              â”‚    â”‚
â”‚  â”‚ Actions:                                     â”‚    â”‚
â”‚  â”‚ [ğŸ‘ï¸ View] [â¬‡ï¸ Download] [âœ“ Verify QR]      â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ ğŸ“Š Final Marksheet                          â”‚    â”‚
â”‚  â”‚                                              â”‚    â”‚
â”‚  â”‚ Type: Semester 8 Marksheet                  â”‚    â”‚
â”‚  â”‚ Course: Computer Science                    â”‚    â”‚
â”‚  â”‚ Issued: June 20, 2024                       â”‚    â”‚
â”‚  â”‚ Status: âœ… Verified                         â”‚    â”‚
â”‚  â”‚                                              â”‚    â”‚
â”‚  â”‚ Actions:                                     â”‚    â”‚
â”‚  â”‚ [ğŸ‘ï¸ View] [â¬‡ï¸ Download] [âœ“ Verify QR]      â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚           â”‚           â”‚
        â–¼           â–¼           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   VIEW   â”‚ â”‚ DOWNLOAD  â”‚ â”‚  VERIFY  â”‚
â”‚          â”‚ â”‚           â”‚ â”‚          â”‚
â”‚ â€¢ Opens  â”‚ â”‚ â€¢ PDF     â”‚ â”‚ â€¢ Scan   â”‚
â”‚   PDF in â”‚ â”‚   file    â”‚ â”‚   QR     â”‚
â”‚   viewer â”‚ â”‚ â€¢ Direct  â”‚ â”‚ â€¢ Check  â”‚
â”‚ â€¢ Print  â”‚ â”‚   save    â”‚ â”‚   hash   â”‚
â”‚   option â”‚ â”‚ â€¢ Named   â”‚ â”‚ â€¢ Show   â”‚
â”‚ â€¢ Share  â”‚ â”‚   proper  â”‚ â”‚   status â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Search Features:**
- âœ… No login required (public access)
- âœ… Multiple search criteria options
- âœ… Fast and accurate results
- âœ… Only published documents shown
- âœ… University-scoped results
- âœ… Secure document access
- âœ… QR code verification

---

## ğŸ”„ Complete System Workflow

### End-to-End Process

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘              COMPLETE CERTIFICATE LIFECYCLE                â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

PHASE 1: SETUP (Super Admin)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. Super Admin registers & logs in             â”‚
â”‚ 2. Creates new university                       â”‚
â”‚ 3. Assigns subdomain (e.g., techuni)           â”‚
â”‚ 4. Creates university admin account             â”‚
â”‚ 5. Configures basic settings                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
                    â–¼
PHASE 2: CONFIGURATION (University Admin)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. University admin logs in                     â”‚
â”‚ 2. Sets up branding                             â”‚
â”‚    â”œâ”€â†’ Upload logo                              â”‚
â”‚    â”œâ”€â†’ Set colors                               â”‚
â”‚    â””â”€â†’ Add stamps/signatures                    â”‚
â”‚ 3. Configures SEO                               â”‚
â”‚ 4. Builds landing page                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
                    â–¼
PHASE 3: TEMPLATE CREATION (University Admin)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. Create new template                          â”‚
â”‚ 2. Choose template type                         â”‚
â”‚    â”œâ”€â†’ HTML Builder (visual editor)            â”‚
â”‚    â”œâ”€â†’ PDF Mapper (field mapping)              â”‚
â”‚    â””â”€â†’ Direct Upload (pre-made PDFs)           â”‚
â”‚ 3. Design template                              â”‚
â”‚    â”œâ”€â†’ Add text, images, QR codes              â”‚
â”‚    â”œâ”€â†’ Insert dynamic variables                â”‚
â”‚    â””â”€â†’ Style and format                        â”‚
â”‚ 4. Configure QR settings                        â”‚
â”‚ 5. Save template                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
                    â–¼
PHASE 4: STUDENT DATA IMPORT (University Admin)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Option A: Single Student                        â”‚
â”‚ â”œâ”€â†’ Enter details manually                     â”‚
â”‚ â”œâ”€â†’ Select template                            â”‚
â”‚ â””â”€â†’ Generate document                          â”‚
â”‚                                                 â”‚
â”‚ Option B: Bulk Import                          â”‚
â”‚ â”œâ”€â†’ Create CSV configuration                   â”‚
â”‚ â”œâ”€â†’ Prepare CSV file                           â”‚
â”‚ â”œâ”€â†’ Upload CSV                                 â”‚
â”‚ â””â”€â†’ System imports all students                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
                    â–¼
PHASE 5: DOCUMENT GENERATION (Automatic)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. System processes student data               â”‚
â”‚ 2. Merges data with template                    â”‚
â”‚    â”œâ”€â†’ Replaces {{variables}} with values      â”‚
â”‚    â”œâ”€â†’ Generates QR code (if enabled)          â”‚
â”‚    â””â”€â†’ Creates unique hash                     â”‚
â”‚ 3. Renders PDF document                         â”‚
â”‚    â”œâ”€â†’ Using Puppeteer (HTML templates)        â”‚
â”‚    â””â”€â†’ Using pdf-lib (PDF mapper)              â”‚
â”‚ 4. Saves PDF to storage                         â”‚
â”‚ 5. Creates database record                      â”‚
â”‚ 6. Marks document as ready                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
                    â–¼
PHASE 6: PUBLISHING (University Admin)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. Admin reviews generated documents            â”‚
â”‚ 2. Verifies accuracy                            â”‚
â”‚ 3. Publishes documents                          â”‚
â”‚    â””â”€â†’ Makes visible to students                â”‚
â”‚ 4. (Optional) Notify students                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
                    â–¼
PHASE 7: STUDENT ACCESS (Public)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. Student visits university portal             â”‚
â”‚ 2. Navigates to search page                     â”‚
â”‚ 3. Enters search criteria                       â”‚
â”‚ 4. System searches database                     â”‚
â”‚ 5. Displays matching documents                  â”‚
â”‚ 6. Student can:                                 â”‚
â”‚    â”œâ”€â†’ View document online                    â”‚
â”‚    â”œâ”€â†’ Download PDF                            â”‚
â”‚    â”œâ”€â†’ Print document                          â”‚
â”‚    â””â”€â†’ Verify via QR code                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
                    â–¼
PHASE 8: VERIFICATION (Anyone)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. Scan QR code on certificate                  â”‚
â”‚ 2. System looks up hash                         â”‚
â”‚ 3. Displays verification result                 â”‚
â”‚    â”œâ”€â†’ Student information                     â”‚
â”‚    â”œâ”€â†’ Document details                        â”‚
â”‚    â”œâ”€â†’ Authenticity status                     â”‚
â”‚    â””â”€â†’ Issue date                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“œ Certificate Generation Flow

### Detailed Generation Process

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           CERTIFICATE GENERATION WORKFLOW                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

STEP 1: DATA INPUT
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ University Admin provides:      â”‚
â”‚ â€¢ Student information           â”‚
â”‚ â€¢ Template selection            â”‚
â”‚ â€¢ Custom field data             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
STEP 2: DATA VALIDATION
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ System validates:               â”‚
â”‚ â€¢ Required fields present       â”‚
â”‚ â€¢ Data format correct           â”‚
â”‚ â€¢ No duplicates                 â”‚
â”‚ â€¢ Template exists               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
STEP 3: TEMPLATE PROCESSING
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Load template:                  â”‚
â”‚ â€¢ Fetch template design         â”‚
â”‚ â€¢ Get field mappings            â”‚
â”‚ â€¢ Load QR configuration         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
STEP 4: VARIABLE REPLACEMENT
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Replace placeholders:                â”‚
â”‚ {{studentName}} â†’ "John Doe"         â”‚
â”‚ {{rollNo}} â†’ "2024001"               â”‚
â”‚ {{courseName}} â†’ "Computer Science"  â”‚
â”‚ {{date}} â†’ "May 15, 2024"            â”‚
â”‚ ... (all dynamic fields)             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
STEP 5: QR CODE GENERATION (if enabled)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Generate QR Code:               â”‚
â”‚ â€¢ Create unique hash            â”‚
â”‚ â€¢ Store in database             â”‚
â”‚ â€¢ Generate QR image             â”‚
â”‚ â€¢ Position on template          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
STEP 6: PDF RENDERING
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ For HTML Templates:             â”‚
â”‚ â”œâ”€â†’ Render HTML with data       â”‚
â”‚ â”œâ”€â†’ Apply CSS styling           â”‚
â”‚ â””â”€â†’ Convert to PDF (Puppeteer)  â”‚
â”‚                                 â”‚
â”‚ For PDF Mapper Templates:       â”‚
â”‚ â”œâ”€â†’ Load background PDF/image   â”‚
â”‚ â”œâ”€â†’ Overlay text fields         â”‚
â”‚ â””â”€â†’ Merge layers (pdf-lib)      â”‚
â”‚                                 â”‚
â”‚ For Direct Upload:              â”‚
â”‚ â””â”€â†’ Link existing PDF           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
STEP 7: FILE STORAGE
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Save generated PDF:             â”‚
â”‚ â€¢ Generate filename             â”‚
â”‚ â€¢ Save to storage               â”‚
â”‚   â”œâ”€â†’ Local: /public/uploads/  â”‚
â”‚   â””â”€â†’ Cloud: S3/R2/etc         â”‚
â”‚ â€¢ Get file URL                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
STEP 8: DATABASE RECORD
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Create document record:         â”‚
â”‚ â€¢ Link to student               â”‚
â”‚ â€¢ Store file path               â”‚
â”‚ â€¢ Save QR hash                  â”‚
â”‚ â€¢ Set publish status            â”‚
â”‚ â€¢ Record timestamp              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
STEP 9: COMPLETION
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Document ready:                 â”‚
â”‚ â€¢ Admin notified                â”‚
â”‚ â€¢ Available for review          â”‚
â”‚ â€¢ Ready to publish              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Generation Methods Comparison

| Method | Use Case | Processing Time | Flexibility |
|--------|----------|-----------------|-------------|
| **HTML Builder** | Fully customizable certificates | 2-5 seconds | Very High |
| **PDF Mapper** | Existing PDF design with fields | 1-3 seconds | Medium |
| **Direct Upload** | Pre-generated PDFs | Instant | Low |

---

## ğŸ‘¨â€ğŸ“ Student Access Flow

### How Students Find and Access Documents

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              STUDENT DOCUMENT ACCESS FLOW              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

START: Student receives notification
â”‚      "Your certificate is available"
â”‚
â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Student visits university URL  â”‚
â”‚ subdomain.educert.com          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Sees university homepage       â”‚
â”‚ with branding & info           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Clicks "Search Documents"      â”‚
â”‚ or navigates to /search        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        SEARCH INTERFACE                â”‚
â”‚                                        â”‚
â”‚ Four search options available:         â”‚
â”‚                                        â”‚
â”‚ [   Roll Number   ] [Search]          â”‚
â”‚ [  Reg Number     ] [Search]          â”‚
â”‚ [  Mobile Number  ] [Search]          â”‚
â”‚ [  Date of Birth  ] [Search]          â”‚
â”‚                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â”‚ Student enters one criterion
           â”‚
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ System searches database       â”‚
â”‚ â€¢ Checks student records        â”‚
â”‚ â€¢ Finds matching documents      â”‚
â”‚ â€¢ Filters published only        â”‚
â”‚ â€¢ Applies university scope      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â”œâ”€â”€â”€ Not Found â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
           â”‚                        â”‚
           â”‚                        â–¼
           â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
           â”‚              â”‚ Show error        â”‚
           â”‚              â”‚ "No docs found"   â”‚
           â”‚              â”‚ Try another way   â”‚
           â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â””â”€â”€â”€ Found â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                    â”‚
                                    â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚    DOCUMENT LIST               â”‚
              â”‚                                â”‚
              â”‚ Certificate #1                 â”‚
              â”‚ â”œâ”€ Type: Degree Certificate    â”‚
              â”‚ â”œâ”€ Issued: May 15, 2024        â”‚
              â”‚ â””â”€ Actions: [View][Down][Ver]  â”‚
              â”‚                                â”‚
              â”‚ Marksheet #1                   â”‚
              â”‚ â”œâ”€ Type: Final Marksheet       â”‚
              â”‚ â”œâ”€ Issued: June 20, 2024       â”‚
              â”‚ â””â”€ Actions: [View][Down][Ver]  â”‚
              â”‚                                â”‚
              â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚          â”‚        â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                     â”‚                   â”‚
        â–¼                     â–¼                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    VIEW      â”‚    â”‚   DOWNLOAD   â”‚    â”‚    VERIFY    â”‚
â”‚              â”‚    â”‚              â”‚    â”‚              â”‚
â”‚ â€¢ Opens PDF  â”‚    â”‚ â€¢ Downloads  â”‚    â”‚ â€¢ Shows QR   â”‚
â”‚ â€¢ In browser â”‚    â”‚ â€¢ Saves file â”‚    â”‚ â€¢ Scans code â”‚
â”‚ â€¢ Can print  â”‚    â”‚ â€¢ Renames    â”‚    â”‚ â€¢ Verifies   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ—ï¸ Technical Architecture Flow

### Data Flow Through System Layers

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘              TECHNICAL DATA FLOW DIAGRAM                   â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

CLIENT LAYER (Browser)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  React Components (Next.js 14)                          â”‚
â”‚  â€¢ Pages (App Router)                                   â”‚
â”‚  â€¢ Components (UI)                                      â”‚
â”‚  â€¢ Client-side logic                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚ HTTPS Request
                    â”‚ (fetch/axios)
                    â–¼
MIDDLEWARE LAYER
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Next.js Middleware                                     â”‚
â”‚  â€¢ Subdomain detection                                  â”‚
â”‚  â€¢ University context injection                         â”‚
â”‚  â€¢ Request routing                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚ 
                    â–¼
API ROUTES LAYER
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  API Route Handlers (/app/api/*)                        â”‚
â”‚  â”œâ”€ /auth/* (Authentication)                            â”‚
â”‚  â”œâ”€ /university/* (University management)               â”‚
â”‚  â”œâ”€ /template/* (Template operations)                   â”‚
â”‚  â”œâ”€ /student/* (Student management)                     â”‚
â”‚  â”œâ”€ /document/* (Document operations)                   â”‚
â”‚  â””â”€ /verify/* (Verification)                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚ Function calls
                    â–¼
BUSINESS LOGIC LAYER
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Utility Libraries (/lib/*)                             â”‚
â”‚  â”œâ”€ auth.ts â†’ JWT, bcrypt, auth logic                   â”‚
â”‚  â”œâ”€ prisma.ts â†’ Database client singleton              â”‚
â”‚  â”œâ”€ pdf.ts â†’ PDF generation (Puppeteer, pdf-lib)       â”‚
â”‚  â”œâ”€ qr.ts â†’ QR code generation                         â”‚
â”‚  â”œâ”€ tenant.ts â†’ Multi-tenancy utilities                â”‚
â”‚  â””â”€ utils.ts â†’ General helpers                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚ Database queries
                    â–¼
DATA ACCESS LAYER
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Prisma ORM                                             â”‚
â”‚  â€¢ Type-safe queries                                    â”‚
â”‚  â€¢ Schema validation                                    â”‚
â”‚  â€¢ Connection pooling                                   â”‚
â”‚  â€¢ Migration management                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚ SQL queries
                    â–¼
DATABASE LAYER
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  PostgreSQL / SQLite                                    â”‚
â”‚  Tables:                                                â”‚
â”‚  â”œâ”€ SuperAdmin                                          â”‚
â”‚  â”œâ”€ University                                          â”‚
â”‚  â”œâ”€ UniversityAdmin                                     â”‚
â”‚  â”œâ”€ Template                                            â”‚
â”‚  â”œâ”€ Student                                             â”‚
â”‚  â”œâ”€ Document                                            â”‚
â”‚  â”œâ”€ CsvConfig                                           â”‚
â”‚  â”œâ”€ FileUpload                                          â”‚
â”‚  â””â”€ AuditLog                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚                            â”‚
            â”‚                            â”‚
            â–¼                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  FILE STORAGE        â”‚    â”‚   EXTERNAL SERVICES  â”‚
â”‚  â€¢ Local filesystem  â”‚    â”‚   â€¢ Email (future)   â”‚
â”‚  â€¢ AWS S3            â”‚    â”‚   â€¢ SMS (future)     â”‚
â”‚  â€¢ Cloudflare R2     â”‚    â”‚   â€¢ Analytics        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Request-Response Cycle Example

```
Example: Student searching for certificate

1. User enters roll number "2024001" and clicks search
   â†“
2. Browser sends GET request to /api/student/search?rollNo=2024001
   â†“
3. Middleware intercepts:
   - Extracts subdomain from URL
   - Looks up university
   - Attaches university context
   â†“
4. API route handler receives request:
   - Validates request
   - Extracts parameters
   - Calls business logic
   â†“
5. Business logic (student search):
   - Checks authentication (if needed)
   - Validates search criteria
   - Calls Prisma to query database
   â†“
6. Prisma ORM:
   - Builds SQL query
   - Executes against database
   - Returns results as typed objects
   â†“
7. Database returns matching student and documents:
   - Filters by university ID
   - Filters by roll number
   - Includes related documents
   - Only published documents
   â†“
8. Business logic processes results:
   - Formats data
   - Adds file URLs
   - Prepares response
   â†“
9. API route returns JSON response:
   {
     "success": true,
     "student": {...},
     "documents": [...]
   }
   â†“
10. Client receives response:
    - Parses JSON
    - Updates UI
    - Displays documents
    - Shows action buttons
```

---

## ğŸ” Security Flow

### Authentication & Authorization Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            AUTHENTICATION FLOW                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

SUPER ADMIN / UNIVERSITY ADMIN LOGIN
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  User submits   â”‚
â”‚  credentials    â”‚
â”‚  email/password â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ API receives login request   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Validate input               â”‚
â”‚ â€¢ Email format               â”‚
â”‚ â€¢ Password present           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Query database for user      â”‚
â”‚ â€¢ Find by email              â”‚
â”‚ â€¢ Check user exists          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”œâ”€â”€â”€ Not Found â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚                      â”‚
         â”‚                      â–¼
         â”‚            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚            â”‚ Return 401       â”‚
         â”‚            â”‚ Invalid creds    â”‚
         â”‚            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â””â”€â”€â”€ Found â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                             â”‚
                             â–¼
                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                   â”‚ Compare password  â”‚
                   â”‚ bcrypt.compare()  â”‚
                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â”œâ”€â”€â”€ Wrong â”€â”€â”€â”€â”€â”€â”€â”€â”
                            â”‚                  â”‚
                            â”‚                  â–¼
                            â”‚        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                            â”‚        â”‚ Return 401       â”‚
                            â”‚        â”‚ Invalid password â”‚
                            â”‚        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â””â”€â”€â”€ Correct â”€â”€â”€â”€â”
                                             â”‚
                                             â–¼
                                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                   â”‚ Generate JWT     â”‚
                                   â”‚ â€¢ User ID        â”‚
                                   â”‚ â€¢ Role           â”‚
                                   â”‚ â€¢ University ID  â”‚
                                   â”‚ â€¢ Expiry         â”‚
                                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                            â”‚
                                            â–¼
                                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                   â”‚ Return token     â”‚
                                   â”‚ to client        â”‚
                                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                            â”‚
                                            â–¼
                                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                   â”‚ Client stores    â”‚
                                   â”‚ in localStorage  â”‚
                                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

SUBSEQUENT AUTHENTICATED REQUESTS
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Client sends   â”‚
â”‚  request with   â”‚
â”‚  Bearer token   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ API extracts token           â”‚
â”‚ from Authorization header    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Verify JWT                   â”‚
â”‚ â€¢ Signature valid            â”‚
â”‚ â€¢ Not expired                â”‚
â”‚ â€¢ Decode payload             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”œâ”€â”€â”€ Invalid â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚                      â”‚
         â”‚                      â–¼
         â”‚            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚            â”‚ Return 401       â”‚
         â”‚            â”‚ Unauthorized     â”‚
         â”‚            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â””â”€â”€â”€ Valid â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                             â”‚
                             â–¼
                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                   â”‚ Check permissions â”‚
                   â”‚ based on role     â”‚
                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â”œâ”€â”€â”€ Authorized â”€â”€â”€â”€â”€â”€â”
                            â”‚                      â”‚
                            â”‚                      â–¼
                            â”‚            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                            â”‚            â”‚ Process request  â”‚
                            â”‚            â”‚ Return data      â”‚
                            â”‚            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â””â”€â”€â”€ Not Authorized â”€â”€â”
                                                   â”‚
                                                   â–¼
                                         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                         â”‚ Return 403       â”‚
                                         â”‚ Forbidden        â”‚
                                         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“Š Database Schema Flow

### Entity Relationships

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              DATABASE ENTITY DIAGRAM                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   SuperAdmin    â”‚
â”‚  (System Admin) â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ creates
         â”‚ manages
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   University    â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”‚ UniversityAdmin  â”‚
â”‚  (Tenant)       â”‚  works  â”‚ (Admin User)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜   for   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ has many
         â”‚
         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚            â”‚             â”‚              â”‚
         â–¼            â–¼             â–¼              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Template   â”‚ â”‚ Student  â”‚ â”‚CsvConfigâ”‚ â”‚  FileUpload  â”‚
â”‚  (Design)    â”‚ â”‚ (Record) â”‚ â”‚ (Fields)â”‚ â”‚   (Assets)   â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚              â”‚             â”‚
       â”‚ used by      â”‚ has         â”‚ defines
       â”‚              â”‚             â”‚
       â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
              â”‚                â”‚
              â–¼                â”‚
       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
       â”‚   Document   â”‚â—„â”€â”€â”€â”€â”€â”€â”˜
       â”‚  (Generated) â”‚
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

RELATIONSHIPS:
â€¢ University 1:N UniversityAdmin (one university, many admins)
â€¢ University 1:N Template (one university, many templates)
â€¢ University 1:N Student (one university, many students)
â€¢ Template 1:N Document (one template, many documents)
â€¢ Student 1:N Document (one student, many documents)
â€¢ Template 1:N CsvConfig (one template, many CSV configs)
```

---

## ğŸ¯ Key Takeaways

### System Characteristics

1. **Multi-Tenant**: Each university is isolated with its own subdomain
2. **Role-Based**: Three distinct user types with different permissions
3. **Template-Driven**: Flexible system supporting multiple template types
4. **Automated**: Bulk operations and automatic document generation
5. **Secure**: JWT authentication, bcrypt passwords, isolated data
6. **Verifiable**: QR code-based document verification
7. **Self-Service**: Students can access without admin help

### Performance Considerations

- **Document Generation**: 1-5 seconds per document
- **Bulk Import**: Handles thousands of records
- **Search**: Fast database queries with indexes
- **Storage**: Configurable (local or cloud)

### Scalability

- **Horizontal**: Multiple university tenants on same system
- **Vertical**: Can handle large student populations per university
- **Storage**: Can scale to cloud storage as needed
- **Database**: PostgreSQL supports high concurrency

---

## ğŸ“š Related Documentation

- [README.md](./README.md) - Project overview
- [SETUP.md](./SETUP.md) - Installation guide
- [STUDENT_GUIDE.md](./STUDENT_GUIDE.md) - Student usage guide
- [ARCHITECTURE.md](./ARCHITECTURE.md) - Technical architecture
- [API_ENDPOINTS.md](./API_ENDPOINTS.md) - API reference

---

**Document Version:** 1.0
**Last Updated:** November 2024

---

## ğŸ”— Cross-Reference Guide

### Complete Workflow Documentation

This document (FLOW_DIAGRAM.md) provides the high-level system flow. For detailed step-by-step workflows, refer to:

#### ğŸ“– Admin Workflows
**File**: [ADMIN_FLOW.md](./ADMIN_FLOW.md)

Detailed coverage of:
- **Super Admin Flow** (Lines 14-217)
  - Registration wizard
  - 5-step university creation
  - Dashboard management
  
- **University Admin Flow** (Lines 219-274)
  - Login and authentication
  - Dashboard navigation
  
- **Template Creation** (Lines 285-507)
  - HTML Builder interface
  - PDF Mapper workflow
  - Direct Upload process
  
- **Student Management** (Lines 513-661)
  - Single student form
  - Bulk CSV import (4-step process)
  - Validation and error handling
  
- **Document Management** (Lines 667-755)
  - List view with filters
  - Publish/unpublish actions
  - Regeneration workflow
  
- **Branding & Customization** (Lines 761-805)
  - Color schemes
  - Logo and asset uploads
  - Text content management

#### âš¡ Performance Optimization
**File**: [OPTIMIZED_FLOW.md](./OPTIMIZED_FLOW.md)

Performance improvements:
- **Bulk Generation**: 40min â†’ 8min (5x faster)
- **PDF Generation**: 2-5s â†’ 500ms (8x faster)
- **Search**: 1s â†’ 30ms (33x faster)
- **Dashboard**: 2s â†’ 300ms (7x faster)

Implementation guides for:
- Redis caching layer
- BullMQ job queues
- Meilisearch integration
- PDF generation optimization
- WebSocket real-time updates

#### ğŸ¯ Quick Reference
**File**: [QUICK_REFERENCE.md](./QUICK_REFERENCE.md)

Quick access to:
- All URLs and endpoints
- Test credentials
- Common commands
- Troubleshooting tips
- API endpoint list

---

## ğŸ”„ Integrated Workflow Example

### End-to-End Certificate Issuance

**Scenario**: Tech University wants to issue 1000 degree certificates

```
STEP 1: Super Admin Setup (One-time)
â”œâ”€ Register at /superadmin/register
â”œâ”€ Create "Tech University"
â”‚  â”œâ”€ Subdomain: techuni
â”‚  â”œâ”€ Admin: admin@techuni.edu
â”‚  â””â”€ Branding: Blue theme
â””â”€ âœ… University created in 2 minutes

STEP 2: University Admin Configuration
â”œâ”€ Login at techuni.educert.com/admin
â”œâ”€ Upload branding assets
â”‚  â”œâ”€ University logo
â”‚  â”œâ”€ Principal signature
â”‚  â””â”€ Official seal
â”œâ”€ Create certificate template
â”‚  â”œâ”€ Choose HTML Builder
â”‚  â”œâ”€ Design certificate layout
â”‚  â”œâ”€ Add variables: {{studentName}}, {{rollNo}}, etc.
â”‚  â”œâ”€ Enable QR code
â”‚  â””â”€ âœ… Template created in 10 minutes
â””â”€ Configure CSV import settings

STEP 3: Bulk Student Import (Current Flow)
â”œâ”€ Download CSV template
â”œâ”€ Fill with 1000 student records
â”œâ”€ Upload CSV file
â”œâ”€ System validates data
â”œâ”€ â³ Generate 1000 PDFs synchronously
â”‚  â””â”€ Time: ~40 minutes (2-5s per PDF)
â””â”€ âœ… Certificates ready

STEP 3: Bulk Student Import (Optimized Flow)
â”œâ”€ Download CSV template
â”œâ”€ Fill with 1000 student records
â”œâ”€ Upload CSV file (stream parsing)
â”œâ”€ System validates data in real-time
â”œâ”€ Create 1000 student records (batch insert: 500ms)
â”œâ”€ Enqueue 1000 PDF generation jobs (200ms)
â”œâ”€ âœ… Admin gets immediate confirmation
â”‚
â””â”€ ğŸ”„ Background Processing (Async)
   â”œâ”€ 8 worker processes running in parallel
   â”œâ”€ Each job takes ~750ms
   â”‚  â”œâ”€ Fetch template from cache (3ms)
   â”‚  â”œâ”€ Merge student data (20ms)
   â”‚  â”œâ”€ Generate PDF with html-pdf-node (500ms)
   â”‚  â”œâ”€ Upload to S3 (200ms)
   â”‚  â””â”€ Update database (15ms)
   â”œâ”€ Real-time progress via WebSocket
   â”‚  â””â”€ Admin sees: "Processing 347/1000 (34%)"
   â””â”€ â±ï¸ Total time: ~8 minutes
      â””â”€ âœ… 5x faster than current

STEP 4: Publish & Notify
â”œâ”€ Admin reviews generated certificates
â”œâ”€ Bulk publish 1000 documents
â”œâ”€ (Optional) Send email notifications
â””â”€ âœ… Certificates available to students

STEP 5: Student Access
â”œâ”€ Students visit techuni.educert.com
â”œâ”€ Click "Search Documents"
â”œâ”€ Enter roll number
â”œâ”€ View/Download certificate
â”‚  â””â”€ Fast search (30ms with cache)
â””â”€ âœ… Self-service access 24/7
```

**Total Time Comparison:**
- Current: ~50 minutes (setup + generation)
- Optimized: ~20 minutes (80% faster)
- Student experience: Same (search is instant)

---

## ğŸ“Š Performance Optimization Integration

### How Optimizations Improve Each Flow

#### 1. Super Admin Flow
**Current:**
- Dashboard load: 2s
- University list: 500ms
- Create university: 3s

**Optimized:**
```typescript
// Redis caching
const cachedUniversities = await redis.get('universities:list');
if (cachedUniversities) return cachedUniversities; // 5ms

// Database with connection pooling
const universities = await prisma.university.findMany({
  include: { _count: { select: { students: true, documents: true } } }
}); // 30ms vs 500ms

await redis.setex('universities:list', 300, universities);
```

**Result:**
- Dashboard load: 300ms (7x faster)
- University list: 50ms (10x faster)
- Create university: 1s (3x faster)

#### 2. University Admin Flow
**Current:**
- Template list: 800ms
- Student list: 3s
- Document list: 5s

**Optimized:**
```typescript
// Parallel queries with caching
const [templates, stats] = await Promise.all([
  CacheService.get('templates:' + universityId) || 
    prisma.template.findMany({ where: { universityId } }),
  
  CacheService.get('stats:' + universityId) ||
    prisma.$queryRaw`SELECT 
      COUNT(DISTINCT students) as studentCount,
      COUNT(documents) as documentCount
    FROM ...`
]);
```

**Result:**
- Template list: 50ms (16x faster)
- Student list: 400ms (7.5x faster)
- Document list: 800ms (6x faster)

#### 3. Student Search Flow
**Current:**
```typescript
// Full table scan
const student = await prisma.student.findFirst({
  where: { rollNo, universityId },
  include: { documents: { include: { template: true } } }
}); // 1000-2000ms
```

**Optimized:**
```typescript
// Step 1: Check Redis cache
const cacheKey = `search:${universityId}:${rollNo}`;
let result = await redis.get(cacheKey);
if (result) return JSON.parse(result); // 2-5ms (95% hit rate)

// Step 2: Meilisearch for fast lookup
const searchResults = await meiliSearch.index('students').search(rollNo, {
  filter: `universityId = ${universityId}`,
  limit: 1
}); // 10-20ms

// Step 3: Fetch full data (only if needed)
const studentIds = searchResults.hits.map(h => h.id);
const fullData = await prisma.student.findMany({
  where: { id: { in: studentIds }, universityId },
  include: { documents: { where: { published: true }, include: { template: true } } }
}); // 20-30ms with indexes

// Step 4: Cache result
await redis.setex(cacheKey, 300, JSON.stringify(fullData));

return fullData; // Total: 30-60ms vs 1000-2000ms
```

**Result:**
- First search: 60ms (17x faster)
- Cached search: 5ms (200x faster)
- 95% cache hit rate

#### 4. PDF Generation Flow
**Current (Puppeteer):**
```typescript
const browser = await puppeteer.launch(); // Heavy: 300MB memory
const page = await browser.newPage();
await page.setContent(html);
const pdf = await page.pdf(); // 2-5 seconds
await browser.close();
```

**Optimized (html-pdf-node):**
```typescript
// Lightweight alternative
const htmlPdf = require('html-pdf-node');
const options = {
  format: 'A4',
  printBackground: true,
  preferCSSPageSize: true
};
const pdf = await htmlPdf.generatePdf({ content: html }, options);
// 500ms, 50MB memory
```

**Or (Gotenberg microservice):**
```typescript
// Shared PDF service
const formData = new FormData();
formData.append('files', new Blob([html]), 'index.html');

const response = await fetch('http://gotenberg:3000/convert/html', {
  method: 'POST',
  body: formData
});

const pdf = await response.arrayBuffer(); // 200-500ms
```

**Result:**
- Generation: 500ms vs 3s (6x faster)
- Memory: 50MB vs 300MB (6x less)
- Concurrent: 16 vs 4 (4x more)
- Cost: 80% cheaper

---

## ğŸ¯ Implementation Priorities

Based on ADMIN_FLOW.md and OPTIMIZED_FLOW.md, implement in this order:

### Phase 1: Quick Wins (Week 1-2)
```
Priority    Feature                Impact          Effort
1          Redis caching           High           Medium
2          Database indexes        High           Low
3          Query optimization      High           Medium
4          Replace Puppeteer       Very High      High
```

### Phase 2: Scalability (Week 3-4)
```
Priority    Feature                Impact          Effort
1          BullMQ queues          Very High       High
2          Worker processes        Very High       Medium
3          WebSocket updates       Medium          Medium
4          S3/R2 storage          Medium          Low
```

### Phase 3: Search (Week 5-6)
```
Priority    Feature                Impact          Effort
1          Meilisearch            Very High       High
2          Search optimization     High           Medium
3          Faceted filtering       Medium          Low
4          Autocomplete            Low             Low
```

### Phase 4: Production (Week 7-8)
```
Priority    Feature                Impact          Effort
1          Security hardening      Critical        Medium
2          Rate limiting           High           Low
3          Monitoring (Sentry)     High           Low
4          Load testing            High           Medium
```

---

## ğŸ“š Documentation Map

```
EduCertEngine Documentation Structure:

â”œâ”€â”€ README.md ........................... Project overview
â”‚
â”œâ”€â”€ FLOW_DIAGRAM.md (THIS FILE) ......... System-level flows
â”‚   â”œâ”€ High-level architecture
â”‚   â”œâ”€ User role flows
â”‚   â”œâ”€ Cross-references to other docs
â”‚   â””â”€ Optimization integration
â”‚
â”œâ”€â”€ ADMIN_FLOW.md ....................... Detailed admin workflows
â”‚   â”œâ”€ Super Admin (step-by-step)
â”‚   â”œâ”€ University Admin (step-by-step)
â”‚   â”œâ”€ Template creation (3 types)
â”‚   â”œâ”€ Student management (single + bulk)
â”‚   â”œâ”€ Document management
â”‚   â”œâ”€ Branding & customization
â”‚   â”œâ”€ API flows
â”‚   â””â”€ Performance metrics
â”‚
â”œâ”€â”€ OPTIMIZED_FLOW.md ................... Performance guide
â”‚   â”œâ”€ Current vs optimized comparison
â”‚   â”œâ”€ Technology recommendations
â”‚   â”œâ”€ Code examples
â”‚   â”œâ”€ Implementation roadmap
â”‚   â”œâ”€ Docker setup
â”‚   â””â”€ Cost analysis
â”‚
â”œâ”€â”€ QUICK_REFERENCE.md .................. Developer quick ref
â”‚   â”œâ”€ URLs & credentials
â”‚   â”œâ”€ Commands & shortcuts
â”‚   â”œâ”€ Troubleshooting
â”‚   â””â”€ API endpoints
â”‚
â”œâ”€â”€ SESSION_SUMMARY.md .................. Today's work summary
â”‚   â”œâ”€ What was accomplished
â”‚   â”œâ”€ Files created
â”‚   â”œâ”€ Test data
â”‚   â””â”€ Next steps
â”‚
â””â”€â”€ Other Documentation
    â”œâ”€ API_ENDPOINTS.md ................ API reference
    â”œâ”€ ARCHITECTURE.md ................. Technical architecture
    â”œâ”€ DEPLOYMENT.md ................... Deployment guide
    â””â”€ ... (more)
```

---

## ğŸ¬ Next Steps

### For Developers
1. âœ… Review this flow diagram
2. ğŸ“– Read [ADMIN_FLOW.md](./ADMIN_FLOW.md) for detailed workflows
3. âš¡ Study [OPTIMIZED_FLOW.md](./OPTIMIZED_FLOW.md) for performance tips
4. ğŸ§ª Run tests using test scripts
5. ğŸ’» Start implementing optimizations

### For Project Managers
1. Review workflow efficiency
2. Understand optimization benefits
3. Plan implementation phases
4. Allocate resources
5. Track performance metrics

### For Students (End Users)
1. Visit university portal
2. Use search functionality
3. Download certificates
4. Verify via QR code
5. Report any issues

---

**Document Version:** 2.0 (Updated with ADMIN_FLOW.md integration)  
**Last Updated:** November 21, 2024  
**Cross-References:**
- [ADMIN_FLOW.md](./ADMIN_FLOW.md) - Detailed admin workflows
- [OPTIMIZED_FLOW.md](./OPTIMIZED_FLOW.md) - Performance guide
- [QUICK_REFERENCE.md](./QUICK_REFERENCE.md) - Quick reference

